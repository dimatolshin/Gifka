import{b as r}from"./queryClient-5637703c.js";const n="https://bwcreatorhub.com";function u(o,t,e,a){return r.post(`${n}/auth/users/`,{email:a,password:t,re_password:e,username:o}).then(s=>s.data).catch(s=>{const c=Object.keys(s.response.data).map(d=>`${s.response.data[d]}`).join(", ");throw new Error(c)})}function h(o,t){return r.post(`${n}/auth/token/login/`,{password:t,username:o}).then(e=>e.data.auth_token).catch(e=>{const a=Object.keys(e.response.data).map(s=>`${e.response.data[s]}`).join(", ");throw new Error(a)})}function i(o){return r.post(`${n}/auth/users/reset_password/`,{email:o}).then(t=>t.data).catch(t=>{const e=Object.keys(t.response.data).map(a=>`${t.response.data[a]}`).join(", ");throw new Error(e)})}function w(o,t,e,a){return r.post(`${n}/auth/users/reset_password_confirm/`,{new_password:o,re_new_password:t,uid:e,token:a}).then(s=>s.data).catch(s=>{const c=Object.keys(s.response.data).map(d=>`${s.response.data[d]}`).join(", ");throw new Error(c)})}function $(o){return r.post(`${n}/auth/token/logout/`,{},{headers:{"Content-Type":"application/json",Authorization:`Token ${o}`}}).then(()=>{})}function g(o,t,e,a){return r.post(`${n}/auth/users/set_password/`,{new_password:o,re_new_password:t,current_password:e},{headers:{"Content-Type":"application/json",Authorization:`Token ${a}`}}).then(s=>s.data).catch(s=>{const c=Object.keys(s.response.data).map(d=>`${s.response.data[d]}`).join(", ");throw new Error(c)})}function j(o,t){return r.delete(`${n}/auth/users/me/`,{headers:{"Content-Type":"application/json",Authorization:`Token ${t}`},data:{current_password:o}}).then(e=>e.data).catch(e=>{const a=Object.keys(e.response.data).map(s=>`${e.response.data[s]}`).join(", ");throw new Error(a)})}function l(o){return r.get(`${n}/api/get_profile/${o}/`).then(t=>t.data).catch(t=>{if(t.response&&t.response.status===400&&t.response.data.error==="Неправильный токен")localStorage.removeItem("userToken");else{const e=Object.keys(t.response.data).map(a=>`${t.response.data[a]}`).join(", ");throw new Error(e)}})}function m(o){return r.post(`${n}/api/delete_google_account/`,{token:o}).then(t=>t.data).catch(t=>{const e=Object.keys(t.response.data).map(a=>`${t.response.data[a]}`).join(", ");throw new Error(e)})}function f(o,t){return r.post(`${n}/api/change_promocode/`,{token:o,promocode:t}).then(e=>e.data).catch(e=>{const a=Object.keys(e.response.data).map(s=>`${e.response.data[s]}`).join(", ");throw new Error(a)})}export{m as a,f as b,h as c,j as d,i as e,w as f,$ as l,l as p,u as r,g as s};
