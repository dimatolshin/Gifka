import{a as I,u as B,g as U,r,f as A,j as n}from"./index-4b739ed6.js";import{b as v,T,G as D,c as x,D as R,A as M,a as N,C as q}from"./AddIntegration-83164022.js";import"./Navbar.module-eb23c894.js";import{u as E,a as $,q as z}from"./queryClient-e95188bb.js";import{B as S}from"./Button-44276b84.js";import"./Modal.module-7cebd6cd.js";import{g as P}from"./gifAdd-b0caaf4d.js";import"./ListBox-f6378e63.js";const W=()=>{const{t:e,i18n:d}=E(),u=I(),l=B(U),[h,w]=r.useState(e("Country")),[f,y]=r.useState(e("Language")),[m,b]=r.useState(e("Currency")),[t,s]=r.useState(e("Banner format")),[o,c]=r.useState(e("Banner theme")),[i,p]=r.useState(!0),g=a=>{w(a)},C=a=>{y(a)},k=a=>{b(a)},G=a=>{s(a)},L=a=>{c(a)};r.useEffect(()=>{h===e("Country")||f===e("Language")||m===e("Currency")||t===e("Banner format")||o===e("Banner theme")?p(!0):p(!1)},[h,f,m,t,o]);const j=$({mutationFn:a=>P(a.token),onSuccess:a=>{u(A.gifGenAdd({svgContent:a.svg,text:a.promokode}))}},z),F=()=>{j.mutate({token:l})};return n.jsxs("div",{className:`${v.topbarStatic}`,children:[n.jsx(T,{t:e,selectedCountries:h,selectedLanguages:f,selectedCurrencies:m,selectedBannerFormats:t,selectedBannerThemes:o,handleChangeCountry:g,handleChangeLanguage:C,handleChangeCurrency:k,handleChangeBannerFormat:G,handleChangeBannerTheme:L}),n.jsx(S,{isLoading:j.isPending,onClick:F,className:v.topBtn,isDisabled:i,children:e("Generare Now")})]})},H=({svgContent:e,text:d})=>{const u=r.useRef(null),[l,h]=r.useState(null),[w,f]=r.useState(!1);r.useEffect(()=>{if(e&&d){const t=u.current;if(t){const s=t.getContext("2d");if(s){const o=e.replace("</svg>",`
            <text x="60%" y="56%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="800" font-size="30" line-height="120%" text-transform="uppercase" text-align="right" fill="#15513b">${d}</text>
            <text x="20%" y="53%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="700" font-size="20" line-height="90%" text-transform="uppercase" fill="#15513b">
              <tspan x="16%" dy="0">code</tspan>
              <tspan x="16%" dy="1em">Promo:</tspan>
            </text>
            </svg>`),c=`data:image/svg+xml;base64,${btoa(o)}`,i=new Image;i.src=c,i.onload=()=>{t.width=i.width,t.height=i.height,y(s,i),m()}}}}},[e,d]);const y=(t,s)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(s,0,0)},m=()=>{const t=u.current;if(t){const s=t.getContext("2d");if(s){f(!0);const o=new Image;o.src=t.toDataURL(),o.onload=()=>{const c=new D({workers:2,quality:10,transparent:"rgba(0,0,0,0)"});let i=-o.width;const p=()=>{if(s.clearRect(0,0,s.canvas.width,s.canvas.height),s.drawImage(o,i,(s.canvas.height-o.height)/2),c.addFrame(s.canvas,{copy:!0,delay:20}),i<(s.canvas.width-o.width)/2)i+=20,requestAnimationFrame(p);else{for(let g=0;g<100;g++)c.addFrame(s.canvas,{copy:!0,delay:100});c.on("finished",g=>{const C=URL.createObjectURL(g);h(C),f(!1)}),c.render()}};p()}}}},b=()=>{if(l){const t=document.createElement("a");t.href=l,t.download="downloaded.gif",document.body.appendChild(t),t.click(),document.body.removeChild(t)}};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:`${x.gifBlock}`,children:[n.jsx("canvas",{ref:u,style:{display:"none",backgroundColor:"transparent"}}),l?n.jsxs("div",{className:x.gifCard,children:[n.jsx("img",{className:x.gifImg,src:l,alt:"gif"}),n.jsxs(S,{onClick:b,className:x.gifButton,children:[n.jsx(R,{}),"Download"]})]}):n.jsx("div",{children:"Loading..."})]})})},O=[{id:"1",title:"How is pricing determined for each plan ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"2",title:"What payment methods are accepted for subscriptions ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"3",title:"Are there any hidden fees in the pricing ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"4",title:"Is there a discount for annual subscriptions?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"5",title:"Do you offer refunds on subscription cancellations?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"6",title:"Can I add extra features to my current plan?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."}],J=e=>e.gifGen;function K({svgContent:e,text:d}){return n.jsx(n.Fragment,{children:e&&d?n.jsx(H,{svgContent:e,text:d}):n.jsx(M,{})})}const ne=()=>{const e=B(J);return n.jsxs(n.Fragment,{children:[n.jsx(W,{}),n.jsx(K,{svgContent:e.svgContent,text:e.text}),n.jsx(N,{arrAccord:O}),n.jsx(q,{})]})};export{ne as default};
