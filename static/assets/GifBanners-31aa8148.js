import{b as C,a as m,g as N,c as A,e as I,f as F,j as e,q as $,r as u}from"./index-bff7c930.js";import{s as l,g as E,G as R,b as x,D as U,A as B,a as D,C as L}from"./PasswordModal.module-98d36c65.js";import"./Navbar.module-36f60df4.js";import{B as y}from"./Button-b0ebb98f.js";import{u as S}from"./useTranslation-10880ada.js";const q=()=>{const{t:s,i18n:o}=S(),f=C(),h=m(N),r=a=>{o.changeLanguage(a)},p=A({mutationFn:a=>I(a.token),onSuccess:a=>{console.log(a),f(F.gifGenAdd({svgContent:a.svg,text:a.promocode}))}},$),j=()=>{p.mutate({token:h})};return e.jsxs("div",{className:`${l.topBar} flex items-center max-w-[1140px] m-auto`,children:[e.jsxs("select",{className:`${l.select} select`,children:[e.jsx("option",{defaultValue:"Страна",children:"Страна"}),e.jsx("option",{value:"en",children:"England"}),e.jsx("option",{value:"ru",children:"Россия"}),e.jsx("option",{value:"es",children:"España"}),e.jsx("option",{value:"fr",children:"France"}),e.jsx("option",{value:"de",children:"Deutschland"}),e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"ja",children:"日本語"}),e.jsx("option",{value:"ko",children:"한국어"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"pt",children:"Portugal"}),e.jsx("option",{value:"it",children:"Italia"})]}),e.jsxs("select",{className:`${l.select} select`,onChange:a=>r(a.target.value),children:[e.jsx("option",{defaultValue:"Язык",children:"Язык"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ru",children:"Русский"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"ja",children:"日本語"}),e.jsx("option",{value:"ko",children:"한국어"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"it",children:"Italiano"})]}),e.jsx("select",{className:`${l.select} select`,children:e.jsx("option",{defaultValue:"Валюта",children:"Валюта"})}),e.jsx("select",{className:`${l.select} select`,children:e.jsx("option",{defaultValue:"Формат",children:"Формат"})}),e.jsx("select",{className:`${l.select} select mr-auto`,children:e.jsx("option",{defaultValue:"Тематика",children:"Тематика"})}),e.jsx(y,{isLoading:p.isPending,onClick:j,className:l.topBtn,children:"Generare Now"})]})},V=({svgContent:s,text:o})=>{const f=m(E),h=u.useRef(null),[r,p]=u.useState(null),[j,a]=u.useState(!1);u.useEffect(()=>{if(s&&o){const t=h.current;if(t){const n=t.getContext("2d");if(n){const c=s.replace("</svg>",`
            <text x="60%" y="56%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="800" font-size="30" line-height="120%" text-transform="uppercase" text-align="right" fill="#15513b">${o}</text>
            <text x="20%" y="53%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="700" font-size="20" line-height="90%" text-transform="uppercase" fill="#15513b">
              <tspan x="16%" dy="0">code</tspan>
              <tspan x="16%" dy="1em">Promo:</tspan>
            </text>
            </svg>`),d=`data:image/svg+xml;base64,${btoa(c)}`,i=new Image;i.src=d,i.onload=()=>{t.width=i.width,t.height=i.height,w(n,i),b()}}}}},[s,o]);const w=(t,n)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(n,0,0)};u.useEffect(()=>{console.log(f)},[f]);const b=()=>{const t=h.current;if(t){const n=t.getContext("2d");if(n){a(!0);const c=new Image;c.src=t.toDataURL(),c.onload=()=>{const d=new R({workers:2,quality:10});let i=-c.width;const v=()=>{if(n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(c,i,(n.canvas.height-c.height)/2),d.addFrame(n.canvas,{copy:!0,delay:20}),i<(n.canvas.width-c.width)/2)i+=20,requestAnimationFrame(v);else{for(let g=0;g<100;g++)d.addFrame(n.canvas,{copy:!0,delay:100});d.on("finished",g=>{const k=URL.createObjectURL(g);p(k),a(!1)}),d.render()}};v()}}}},G=()=>{if(r){const t=document.createElement("a");t.href=r,t.download="downloaded.gif",document.body.appendChild(t),t.click(),document.body.removeChild(t)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${x.gifBlock} max-w-[1140px] m-auto`,children:[e.jsx("canvas",{ref:h,style:{display:"none"}}),r&&e.jsxs("div",{className:x.gifCard,children:[e.jsx("img",{className:x.gifImg,src:r,alt:"gif"}),e.jsxs(y,{onClick:G,className:x.gifButton,children:[e.jsx(U,{}),"Download"]})]})]})})};function z({svgContent:s,text:o}){return e.jsx(e.Fragment,{children:s&&o?e.jsx(V,{svgContent:s,text:o}):e.jsx(B,{})})}const M=[{id:"1",title:"How is pricing determined for each plan ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"2",title:"What payment methods are accepted for subscriptions ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"3",title:"Are there any hidden fees in the pricing ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."}],P=s=>s.gifGen,K=()=>{const s=m(P);return e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx(z,{svgContent:s.svgContent,text:s.text}),e.jsx(D,{arrAccord:M}),e.jsx(L,{})]})};export{K as default};
