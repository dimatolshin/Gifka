import{j as s,L as P,m as k,r as n}from"./index-bee3d541.js";import{B as y}from"./Button-bf5f4e6b.js";import{u as v,t as C,a as F}from"./AuthType-8463220b.js";import{u as T,a as $,q as E}from"./queryClient-035a8a99.js";import{f as R}from"./authUser-1ce37d49.js";const L="_form_12h90_1",Y="_title_12h90_5",q="_descr_12h90_12",B="_label_12h90_19",M="_formTitle_12h90_25",U="_btn_12h90_31",z="_error_12h90_44",e={form:L,title:Y,descr:q,label:B,formTitle:M,btn:U,error:z},A="/assets/SuccessForgot-e016dbe3.png",D="_boxSuccess_r1rdl_1",G="_img_r1rdl_6",H="_title_r1rdl_9",I="_descr_r1rdl_16",J="_link_r1rdl_24",t={boxSuccess:D,img:G,title:H,descr:I,link:J};function K(){return s.jsxs("div",{className:t.boxSuccess,children:[s.jsx("img",{className:t.img,src:A,alt:""}),s.jsx("h2",{className:t.title,children:"Your password is changed"}),s.jsxs("p",{className:t.descr,children:["Your password has been successfully updated. ",s.jsx("br",{}),"Your account's security is our priority."]}),s.jsx(P,{className:t.link,to:"/auths",children:"Sign in"})]})}function Z(){var m,u;const{uid:p,token:w}=k(),[h,_]=n.useState(!1),[c,g]=n.useState(!1),[l,x]=n.useState(!1),{t:i}=T(),f=()=>{g(r=>!r)},j=()=>{x(r=>!r)},a=$({mutationFn:r=>R(r.new_password,r.re_new_password,r.uid,r.token),onSuccess:()=>{_(!0),N()}},E),{register:d,handleSubmit:b,formState:{errors:o},reset:N}=v({resolver:C(F)});return h?s.jsx(K,{}):s.jsxs("form",{className:e.form,onSubmit:b(({password:r,confirmPassword:S})=>{a.mutate({new_password:r,re_new_password:S,uid:p,token:w})}),children:[s.jsx("h2",{className:e.title,children:"Reset Password"}),s.jsx("p",{className:e.descr,children:"Enter your new password"}),s.jsxs("label",{className:e.label,children:[s.jsx("span",{className:e.formTitle,children:"Password"}),s.jsxs("div",{className:`input max-w-72 ${o.password?"border-danger":""}`,"data-toggle-password":"true",children:[s.jsx("input",{autoComplete:"new-password",placeholder:"Enter Password",type:c?"text":"password",...d("password")}),s.jsx("div",{onClick:f,className:"btn btn-icon","data-toggle-password-trigger":"true",children:c?s.jsx("i",{className:"ki-outline ki-eye-slash toggle-password-active:block"}):s.jsx("i",{className:"ki-outline ki-eye toggle-password-active:hidden"})})]}),o&&s.jsx("span",{className:e.error,children:i((m=o.password)==null?void 0:m.message)})]}),s.jsxs("label",{className:e.label,children:[s.jsx("span",{className:e.formTitle,children:"Confirm Password"}),s.jsxs("div",{className:`input max-w-72 ${o.confirmPassword?"border-danger":""}`,"data-toggle-password":"true",children:[s.jsx("input",{autoComplete:"new-password",placeholder:"Re-enter Password",type:l?"text":"password",...d("confirmPassword")}),s.jsx("div",{onClick:j,className:"btn btn-icon","data-toggle-password-trigger":"true",children:l?s.jsx("i",{className:"ki-outline ki-eye-slash toggle-password-active:block"}):s.jsx("i",{className:"ki-outline ki-eye toggle-password-active:hidden"})})]}),o&&s.jsx("span",{className:e.error,children:i((u=o.confirmPassword)==null?void 0:u.message)})]}),a.error&&s.jsx("span",{className:e.error,children:a.error.message}),s.jsx(y,{isLoading:a.isPending,className:e.btn,children:"Submit"})]})}export{Z as default};
