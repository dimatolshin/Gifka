import{b as k,a as j,g as C,c as N,e as A,f as I,j as e,q as F,r as g}from"./index-908f7a2c.js";import{s as l,g as $,G as R,b as f,D as U,A as E,a as L,C as B}from"./PasswordModal.module-bb0b4bd7.js";import"./Navbar.module-36f60df4.js";import{B as y}from"./Button-830d8bed.js";import{u as D}from"./useTranslation-34fb5a6e.js";const S=()=>{const{t:s,i18n:i}=D(),h=k(),r=j(C),x=a=>{i.changeLanguage(a)},m=N({mutationFn:a=>A(a.token),onSuccess:a=>{h(I.gifGenAdd({svgContent:a.svg,text:a.promokode}))}},F),u=()=>{m.mutate({token:r})};return e.jsxs("div",{className:`${l.topBar} flex items-center max-w-[1140px] m-auto`,children:[e.jsxs("select",{className:`${l.select} select`,children:[e.jsx("option",{defaultValue:"Страна",children:"Страна"}),e.jsx("option",{value:"en",children:"England"}),e.jsx("option",{value:"ru",children:"Россия"}),e.jsx("option",{value:"es",children:"España"}),e.jsx("option",{value:"fr",children:"France"}),e.jsx("option",{value:"de",children:"Deutschland"}),e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"ja",children:"日本語"}),e.jsx("option",{value:"ko",children:"한국어"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"pt",children:"Portugal"}),e.jsx("option",{value:"it",children:"Italia"})]}),e.jsxs("select",{className:`${l.select} select`,onChange:a=>x(a.target.value),children:[e.jsx("option",{defaultValue:"Язык",children:"Язык"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ru",children:"Русский"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"ja",children:"日本語"}),e.jsx("option",{value:"ko",children:"한국어"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"it",children:"Italiano"})]}),e.jsx("select",{className:`${l.select} select`,children:e.jsx("option",{defaultValue:"Валюта",children:"Валюта"})}),e.jsx("select",{className:`${l.select} select`,children:e.jsx("option",{defaultValue:"Формат",children:"Формат"})}),e.jsx("select",{className:`${l.select} select mr-auto`,children:e.jsx("option",{defaultValue:"Тематика",children:"Тематика"})}),e.jsx(y,{isLoading:m.isPending,onClick:u,className:l.topBtn,children:"Generare Now"})]})},q=({svgContent:s,text:i})=>{j($);const h=g.useRef(null),[r,x]=g.useState(null),[m,u]=g.useState(!1);g.useEffect(()=>{if(s&&i){const t=h.current;if(t){const n=t.getContext("2d");if(n){const c=s.replace("</svg>",`
            <text x="60%" y="56%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="800" font-size="30" line-height="120%" text-transform="uppercase" text-align="right" fill="#15513b">${i}</text>
            <text x="20%" y="53%" dominant-baseline="middle" text-anchor="middle" font-style="italic" font-weight="700" font-size="20" line-height="90%" text-transform="uppercase" fill="#15513b">
              <tspan x="16%" dy="0">code</tspan>
              <tspan x="16%" dy="1em">Promo:</tspan>
            </text>
            </svg>`),d=`data:image/svg+xml;base64,${btoa(c)}`,o=new Image;o.src=d,o.onload=()=>{t.width=o.width,t.height=o.height,a(n,o),w()}}}}},[s,i]);const a=(t,n)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(n,0,0)},w=()=>{const t=h.current;if(t){const n=t.getContext("2d");if(n){u(!0);const c=new Image;c.src=t.toDataURL(),c.onload=()=>{const d=new R({workers:2,quality:10,transparent:"rgba(0,0,0,0)"});let o=-c.width;const v=()=>{if(n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(c,o,(n.canvas.height-c.height)/2),d.addFrame(n.canvas,{copy:!0,delay:20}),o<(n.canvas.width-c.width)/2)o+=20,requestAnimationFrame(v);else{for(let p=0;p<100;p++)d.addFrame(n.canvas,{copy:!0,delay:100});d.on("finished",p=>{const G=URL.createObjectURL(p);x(G),u(!1)}),d.render()}};v()}}}},b=()=>{if(r){const t=document.createElement("a");t.href=r,t.download="downloaded.gif",document.body.appendChild(t),t.click(),document.body.removeChild(t)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${f.gifBlock} max-w-[1140px] m-auto`,children:[e.jsx("canvas",{ref:h,style:{display:"none",backgroundColor:"transparent"}}),r?e.jsxs("div",{className:f.gifCard,children:[e.jsx("img",{className:f.gifImg,src:r,alt:"gif"}),e.jsxs(y,{onClick:b,className:f.gifButton,children:[e.jsx(U,{}),"Download"]})]}):e.jsx("div",{children:"Loading..."})]})})};function V({svgContent:s,text:i}){return console.log(i),e.jsx(e.Fragment,{children:s&&i?e.jsx(q,{svgContent:s,text:i}):e.jsx(E,{})})}const z=[{id:"1",title:"How is pricing determined for each plan ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"2",title:"What payment methods are accepted for subscriptions ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."},{id:"3",title:"Are there any hidden fees in the pricing ?",text:"Metronic embraces flexible licensing options that empower you tochoose the perfect fit for your project's needs and budget.Understanding the factors influencing each plan's pricing helps you make an informed decision."}],M=s=>s.gifGen,J=()=>{const s=j(M);return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(V,{svgContent:s.svgContent,text:s.text}),e.jsx(L,{arrAccord:z}),e.jsx(B,{})]})};export{J as default};
